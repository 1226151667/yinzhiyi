[ 2016-09-07T09:06:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:09' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:09' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:10' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:10' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:06:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:11' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:11' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:06:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.008001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:12' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:12' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:13' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:13' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:14' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:14' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:15' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:15' WHERE ( t0.id=b.id ) [ RunTime:0.006000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:16' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:16' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:06:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.008001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:17' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:17' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:06:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:18' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:18' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:19' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:19' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:06:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:20' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:20' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:21' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:21' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:22' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:22' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:23' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:23' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:24' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:24' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:25' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:25' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:26' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:26' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:06:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:27' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:27' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:28' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:28' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:06:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:29' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:29' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:06:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:30' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:30' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:31' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:31' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:32' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:32' WHERE ( t0.id=b.id ) [ RunTime:1.384079s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:06:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:34' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:34' WHERE ( t0.id=b.id ) [ RunTime:0.006001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:34' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:34' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:06:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:35' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:35' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:06:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:36' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:36' WHERE ( t0.id=b.id ) [ RunTime:0.005001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:37' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:37' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:38' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:38' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:39' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:39' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:40' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:40' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:06:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:41' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:41' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:42' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:42' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:43' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:43' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:44' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:44' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:06:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:45' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:45' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:46' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:46' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:06:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:47' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:47' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:48' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:48' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:49' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:49' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:50' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:50' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:06:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:51' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:51' WHERE ( t0.id=b.id ) [ RunTime:0.006000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:52' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:52' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:53' )  [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:53' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:06:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:54' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:54' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:55' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:55' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:06:56+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:56' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:56' WHERE ( t0.id=b.id ) [ RunTime:0.006001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:57' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:57' WHERE ( t0.id=b.id ) [ RunTime:0.007000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:58' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:58' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:06:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:05:59' )  [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:06:59' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:00' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:00' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:01' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:01' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:07:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:02' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:02' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:03' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:03' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:07:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:04' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:04' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:07:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:05' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:05' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:06' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:06' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:07:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:07' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:07' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:08' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:08' WHERE ( t0.id=b.id ) [ RunTime:0.007000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:07:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:09' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:09' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:10' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:10' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:11' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:11' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:12' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:12' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:13' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:13' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:07:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:14' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:14' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:15' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:15' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:16' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:16' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:07:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:17' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:17' WHERE ( t0.id=b.id ) [ RunTime:0.006001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:18' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:18' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:19' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:19' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:20' )  [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:20' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:21' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:21' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:22' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:22' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:23' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:23' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:24' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:24' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:25' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:25' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:07:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:26' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:26' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:07:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:27' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:27' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:07:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:28' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:28' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:07:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:29' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:29' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:07:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:30' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:30' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.038002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:31' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:31' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:07:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:32' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:32' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.003000s ]

[ 2016-09-07T09:07:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.006000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.031001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.037002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:33' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:33' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:34' )  [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:34' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.003001s ]

[ 2016-09-07T09:07:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:35' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:35' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:07:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:36' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:36' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:37' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:37' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:38' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:38' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:39' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:39' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:40' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:40' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:07:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:41' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:41' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:07:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:42' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:42' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:43' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:43' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:44' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:44' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.004001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:45' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:45' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:46' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:46' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:47' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:47' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:07:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:48' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:48' WHERE ( t0.id=b.id ) [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:49' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:49' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:50' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:50' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:51' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:51' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:52' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:53' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:53' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:53' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:54' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:54' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:07:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.027002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:55' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:55' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:07:56+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:56' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.007001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:56' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.036002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.006001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:57' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:57' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:58' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:58' WHERE ( t0.id=b.id ) [ RunTime:0.006001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:07:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.039002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:06:59' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:07:59' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:00' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:00' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.027002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:01' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:01' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:02' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:02' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:03' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.103006s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.009000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:03' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:08:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.032002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:04' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:04' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:08:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:05' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:05' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:08:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:06' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:06' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:08:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:07' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:07' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:08' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:08' WHERE ( t0.id=b.id ) [ RunTime:0.005001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:09' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:09' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:10' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:10' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:08:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.035002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:11' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:11' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:12' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:12' WHERE ( t0.id=b.id ) [ RunTime:0.005001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:13' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:13' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:14' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:14' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:08:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:15' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:15' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:08:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:16' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:16' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:08:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:17' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:17' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:18' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:18' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:19' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:19' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:20' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:20' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:21' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:21' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.047003s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:22' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:22' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.003000s ]

[ 2016-09-07T09:08:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:23' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:23' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.041003s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:25' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:25' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:25' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:25' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.033002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.027002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:26' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.006001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:26' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.028002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:27' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:27' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:08:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.049003s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.007000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:28' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:28' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:08:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.005001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.051003s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.074004s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:29' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:30' WHERE ( t0.id=b.id ) [ RunTime:0.006001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:30' )  [ RunTime:0.003001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.006001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:30' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.031002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:31' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:31' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.033002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:32' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:32' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:33' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:33' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:08:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:34' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:34' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:35' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:35' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:36' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:36' WHERE ( t0.id=b.id ) [ RunTime:0.007001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.034002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:37' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:37' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:08:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:38' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:38' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.008000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.027002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:39' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:39' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.004000s ]

[ 2016-09-07T09:08:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.040002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:40' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:40' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.031002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.007000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:41' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:41' WHERE ( t0.id=b.id ) [ RunTime:0.008000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:42' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:42' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:43' )  [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:43' WHERE ( t0.id=b.id ) [ RunTime:0.006001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:44' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:44' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.027002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.039003s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:45' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:45' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:46' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:46' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:47' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:47' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:08:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.029001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.072004s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:48' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:48' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:49' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:49' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:50' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:50' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:08:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.027001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:51' )  [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:51' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.003000s ]

[ 2016-09-07T09:08:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:52' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.006000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:52' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:08:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.041002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:53' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:53' WHERE ( t0.id=b.id ) [ RunTime:0.005001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.040002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:54' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:54' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:08:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:55' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:55' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:56+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.005001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:56' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:56' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:57' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:58' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:08:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:58' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:58' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:08:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.029002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:07:59' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:08:59' WHERE ( t0.id=b.id ) [ RunTime:0.007000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.004000s ]

[ 2016-09-07T09:09:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:00' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:00' WHERE ( t0.id=b.id ) [ RunTime:0.006000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:09:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:01' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:01' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:09:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:02' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:02' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.031001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:03' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:03' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.053003s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:04' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:04' WHERE ( t0.id=b.id ) [ RunTime:0.007001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.029002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.028001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:05' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:05' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.027001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:06' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:06' WHERE ( t0.id=b.id ) [ RunTime:0.006001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:09:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:07' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:07' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.030002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:08' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:08' WHERE ( t0.id=b.id ) [ RunTime:0.005001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.005000s ]

[ 2016-09-07T09:09:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:09' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:09' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:09:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.028002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.037002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.063003s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:11' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:11' WHERE ( t0.id=b.id ) [ RunTime:0.006001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.033002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:11' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:12' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:12' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:12' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.032002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.032001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:13' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:13' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:09:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:14' )  [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:14' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:15' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:15' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.004001s ]

[ 2016-09-07T09:09:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.044003s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:16' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:16' WHERE ( t0.id=b.id ) [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:09:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:17' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:17' WHERE ( t0.id=b.id ) [ RunTime:0.007001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:18' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:18' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:09:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:19' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:19' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:20' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:20' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:21' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.030002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:21' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:22' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:22' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:23' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:23' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:24' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:24' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:25' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:25' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:09:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:26' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:26' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:09:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:27' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:27' WHERE ( t0.id=b.id ) [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:28' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:28' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:09:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:29' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:29' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:30' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:30' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:31' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:31' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:09:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:32' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:32' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:09:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:33' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:33' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.030001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:34' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:34' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:09:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:35' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:35' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:36' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:36' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:37' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:37' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:38' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:38' WHERE ( t0.id=b.id ) [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:09:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:39' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:39' WHERE ( t0.id=b.id ) [ RunTime:0.688039s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.033002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:40' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:40' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:41' )  [ RunTime:0.003001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.031001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:41' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:42' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:42' WHERE ( t0.id=b.id ) [ RunTime:0.006000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:09:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.033002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:43' )  [ RunTime:0.003001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:43' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:44' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:45' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.031001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:45' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:45' WHERE ( t0.id=b.id ) [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:46' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:46' WHERE ( t0.id=b.id ) [ RunTime:0.008001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:09:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:47' )  [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:47' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:09:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.030002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:48' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:48' WHERE ( t0.id=b.id ) [ RunTime:0.006000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:49' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:49' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:09:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:50' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:50' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:09:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.049003s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:51' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:51' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.029001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:52' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:52' WHERE ( t0.id=b.id ) [ RunTime:0.007001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:09:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:53' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:53' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.005000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.041002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.039003s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:54' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:54' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.050003s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.008000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:55' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.006001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:55' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:56+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:56' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:56' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002001s ]

[ 2016-09-07T09:09:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:57' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:57' WHERE ( t0.id=b.id ) [ RunTime:0.008000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:58' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:58' WHERE ( t0.id=b.id ) [ RunTime:0.005001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:09:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.029002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:08:59' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.067004s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:09:59' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:00' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:00' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:01' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:01' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:02' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:02' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.029002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:03' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:03' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:04' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:04' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002001s ]

[ 2016-09-07T09:10:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.030002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:05' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:05' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:10:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:06' )  [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:06' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.052003s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.034002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:07' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:07' WHERE ( t0.id=b.id ) [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:08' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:08' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002001s ]

[ 2016-09-07T09:10:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:09' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:09' WHERE ( t0.id=b.id ) [ RunTime:0.007000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002001s ]

[ 2016-09-07T09:10:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:10' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:10' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:11' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:11' WHERE ( t0.id=b.id ) [ RunTime:0.005001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.003000s ]

[ 2016-09-07T09:10:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:12' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:12' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.032002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:13' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:13' WHERE ( t0.id=b.id ) [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:14' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:14' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:15' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:15' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:10:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.035002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.028001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:16' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:16' WHERE ( t0.id=b.id ) [ RunTime:0.007001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:17' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:17' WHERE ( t0.id=b.id ) [ RunTime:0.006001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.003001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:18' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:18' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:19' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:19' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.004001s ]

[ 2016-09-07T09:10:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:20' )  [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:20' WHERE ( t0.id=b.id ) [ RunTime:0.007000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.031001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:21' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:21' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:10:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:22' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:22' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:23' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:23' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:24' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:24' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.007000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:25' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:25' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:26' )  [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:26' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:27' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:27' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:28' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:28' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:29' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:29' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:30' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:30' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:10:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:31' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:31' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:32' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:32' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:33' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:33' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:34' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:34' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:35' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:35' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:10:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:36' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:36' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:37' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:37' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:38' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:38' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:39' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:39' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.003001s ]

[ 2016-09-07T09:10:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:40' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:40' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:41' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:41' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:42' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:42' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:10:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:43' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:43' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:44' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:44' WHERE ( t0.id=b.id ) [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:45' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:45' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:46' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:46' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:47' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:47' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:48' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:48' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:49' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:49' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:50' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:50' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:51' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:51' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:52' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:52' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:53' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:53' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:54' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:54' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:55' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:55' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:10:56+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:56' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:56' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:10:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:57' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:57' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:58' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:58' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:10:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:09:59' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:10:59' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:00' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:00' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:01' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:01' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:11:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:02' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:02' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:11:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:03' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:03' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:04' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:04' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:11:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:05' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:05' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:06' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:06' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:07' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:07' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:11:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:08' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:08' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:09' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:09' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:11:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:10' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:10' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:11' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:11' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:11:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:12' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:12' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:13' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:13' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:11:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:14' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:14' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.028002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:15' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:15' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:16' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:16' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:11:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:17' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:17' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:18' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:18' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:19' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:19' WHERE ( t0.id=b.id ) [ RunTime:0.006000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.003000s ]

[ 2016-09-07T09:11:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.032002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:20' )  [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:20' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.003001s ]

[ 2016-09-07T09:11:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.027001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:21' )  [ RunTime:0.004001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:21' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:22' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:22' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.034002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:23' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:23' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:24' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:24' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:25' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:25' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:26' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:26' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:11:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:27' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:27' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:28' )  [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:28' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:29' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:29' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:11:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:30' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:30' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:11:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:31' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:31' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:32' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:32' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:33' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:33' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:11:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.033002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:34' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:34' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:11:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:35' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:35' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:36' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:36' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.007000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:37' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:37' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:38' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:38' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.005000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:39' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:39' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:11:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.031002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.034002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:40' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:40' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.006000s ]

[ 2016-09-07T09:11:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:41' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:41' WHERE ( t0.id=b.id ) [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:11:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.044002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:42' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:42' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.029001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:43' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:43' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.003000s ]

[ 2016-09-07T09:11:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.032002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:44' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:44' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.039002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:45' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:45' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:11:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:46' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:46' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:11:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:47' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:47' WHERE ( t0.id=b.id ) [ RunTime:0.007000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:11:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:48' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:48' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:49' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:49' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:50' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:50' WHERE ( t0.id=b.id ) [ RunTime:0.005001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.040002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:51' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:51' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:52' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:52' WHERE ( t0.id=b.id ) [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.028002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:53' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:53' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:54' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:54' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.030001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.055003s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.030002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.042002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:55' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:55' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:56+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.005000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.005000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:56' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:56' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.030002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:57' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:57' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:58' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:58' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:11:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:10:59' )  [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:11:59' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:00' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:00' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:01' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:01' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:12:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.008000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.008001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:02' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:02' WHERE ( t0.id=b.id ) [ RunTime:0.005001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:03' )  [ RunTime:0.005000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:03' WHERE ( t0.id=b.id ) [ RunTime:0.008001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:04' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:04' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:05' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:05' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:12:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.059003s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:06' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:06' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:07' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:07' WHERE ( t0.id=b.id ) [ RunTime:0.006000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:08' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:08' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:09' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:09' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:10' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:10' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:12:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:11' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:11' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:12' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:12' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:12:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:13' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:13' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:14' )  [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:14' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:15' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:15' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:16' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:16' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:12:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:17' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:17' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T09:12:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:18' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.136008s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:18' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:19' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:19' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:20' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:20' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:21' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:21' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:22' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:22' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:23' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:23' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:24' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:24' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:12:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:25' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:25' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:26' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:26' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:27' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:27' WHERE ( t0.id=b.id ) [ RunTime:0.006000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:12:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:28' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:28' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:12:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:29' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:29' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:30' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:30' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:31' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.031001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:31' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:32' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:32' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:33' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:33' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:12:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:34' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:34' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:12:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:35' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:35' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T09:12:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:36' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:36' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:37' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:37' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:38' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:38' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:39' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:39' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:40' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:40' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:41' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:41' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:42' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:42' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:43' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:43' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:44' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:44' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T09:12:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:45' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:45' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:46' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:46' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:47' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:47' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:48' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:48' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:49' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:49' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:50' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:50' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:51' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:51' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:52' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:52' WHERE ( t0.id=b.id ) [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T09:12:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=205
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 09:11:53' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 09:12:53' WHERE ( t0.id=b.id ) [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>205 ) ORDER BY t0.id  [ RunTime:0.001000s ]

