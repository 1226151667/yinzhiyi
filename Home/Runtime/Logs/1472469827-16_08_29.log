[ 2016-08-29T17:55:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:54:57' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:55:57' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T17:55:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:54:58' )  [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:55:58' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016000s ]

[ 2016-08-29T17:55:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:54:59' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.100005s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:55:59' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T17:56:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:00' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:00' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T17:56:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:01' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:01' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T17:56:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:02' )  [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:02' WHERE ( t0.id=b.id ) [ RunTime:0.081004s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T17:56:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:03' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:03' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016000s ]

[ 2016-08-29T17:56:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.030002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:04' )  [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:04' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T17:56:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:05' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:05' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T17:56:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:06' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:06' WHERE ( t0.id=b.id ) [ RunTime:0.031002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.024001s ]

[ 2016-08-29T17:56:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:07' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:07' WHERE ( t0.id=b.id ) [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T17:56:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:08' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:08' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016000s ]

[ 2016-08-29T17:56:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:09' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.098005s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:09' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T17:56:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:10' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:10' WHERE ( t0.id=b.id ) [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T17:56:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.030002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:11' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.124007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:11' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T17:56:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:12' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:12' WHERE ( t0.id=b.id ) [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T17:56:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:13' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:13' WHERE ( t0.id=b.id ) [ RunTime:0.035002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T17:56:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.005000s ]
INFO: [ route_check ] --END-- [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:14' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.125007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:14' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T17:56:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:15' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:15' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.023002s ]

[ 2016-08-29T17:56:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:16' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:16' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T17:56:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:17' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:17' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016000s ]

[ 2016-08-29T17:56:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:18' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:18' WHERE ( t0.id=b.id ) [ RunTime:0.029002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T17:56:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.034002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:19' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.098006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:19' WHERE ( t0.id=b.id ) [ RunTime:0.029002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T17:56:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:20' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:20' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T17:56:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.043002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.041002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:21' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.154009s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:21' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.024001s ]

[ 2016-08-29T17:56:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:22' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:22' WHERE ( t0.id=b.id ) [ RunTime:0.028001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T17:56:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:23' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:23' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T17:56:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.038002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:24' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:24' WHERE ( t0.id=b.id ) [ RunTime:0.033002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T17:56:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.039002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:25' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:25' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T17:56:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:26' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:26' WHERE ( t0.id=b.id ) [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T17:56:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:27' )  [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:27' WHERE ( t0.id=b.id ) [ RunTime:0.034002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T17:56:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:28' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.229013s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:28' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T17:56:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:29' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.098005s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:29' WHERE ( t0.id=b.id ) [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016000s ]

[ 2016-08-29T17:56:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:30' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:30' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T17:56:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:31' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:31' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.022001s ]

[ 2016-08-29T17:56:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:32' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:32' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T17:56:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.033001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:33' )  [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:33' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T17:56:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:34' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:34' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T17:56:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:35' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:35' WHERE ( t0.id=b.id ) [ RunTime:0.028002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T17:56:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:36' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:36' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T17:56:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:37' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:37' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T17:56:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:38' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:38' WHERE ( t0.id=b.id ) [ RunTime:0.029002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T17:56:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:39' )  [ RunTime:0.103006s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.100006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:39' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T17:56:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:40' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:40' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T17:56:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:41' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.125007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:41' WHERE ( t0.id=b.id ) [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T17:56:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:42' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:42' WHERE ( t0.id=b.id ) [ RunTime:0.121007s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T17:56:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:43' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:43' WHERE ( t0.id=b.id ) [ RunTime:0.028001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T17:56:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:44' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.139008s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:44' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T17:56:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:45' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:45' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T17:56:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:46' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:46' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T17:56:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 17:55:50' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 17:56:50' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:17:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: һ޷ӵ糢һ׽ֲ


[ 2016-08-29T19:17:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.005000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.006000s ]
INFO: [ route_check ] --END-- [ RunTime:0.006000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003001s ]
INFO: [ route_check ] --END-- [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:56+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
NOTIC: [2] mysqli::mysqli():  E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Driver\Db\DbMysqli.class.php 第 47 行.
ERR: ׽ֲһ޷ӵ


[ 2016-08-29T19:17:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:16:58' )  [ RunTime:0.019001s ]
NOTIC: [2] Invalid argument supplied for foreach() E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 201 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:17:58' WHERE ( t0.id=b.id ) [ RunTime:0.038002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:17:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:16:59' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:17:59' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:18:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:00' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:00' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:18:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:01' )  [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:01' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:18:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:02' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:02' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:18:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:03' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:03' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:18:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:04' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:04' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:18:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:05' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.101006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:05' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015000s ]

[ 2016-08-29T19:18:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.046003s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:06' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:06' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.020001s ]

[ 2016-08-29T19:18:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:07' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:07' WHERE ( t0.id=b.id ) [ RunTime:0.030002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:18:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:08' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.037002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:08' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:18:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:10' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.123007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:10' WHERE ( t0.id=b.id ) [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:18:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:11' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:11' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:18:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:11' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:11' WHERE ( t0.id=b.id ) [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:18:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:12' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:12' WHERE ( t0.id=b.id ) [ RunTime:0.031002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:18:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:13' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:13' WHERE ( t0.id=b.id ) [ RunTime:0.032002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:18:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:14' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:14' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:18:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:15' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.100006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:15' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:18:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:16' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.086005s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:16' WHERE ( t0.id=b.id ) [ RunTime:0.116006s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:18:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:17' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:17' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:18:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:18' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:18' WHERE ( t0.id=b.id ) [ RunTime:0.029002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:18:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:19' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:19' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:18:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.135008s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:20' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:20' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:18:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:21' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:21' WHERE ( t0.id=b.id ) [ RunTime:0.032002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:18:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:22' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:22' WHERE ( t0.id=b.id ) [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:18:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:23' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:23' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:18:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:24' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:24' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:18:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:25' )  [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.101006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:25' WHERE ( t0.id=b.id ) [ RunTime:0.036003s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:18:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:26' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.085004s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:26' WHERE ( t0.id=b.id ) [ RunTime:0.028001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:18:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:27' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:27' WHERE ( t0.id=b.id ) [ RunTime:0.034002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.014001s ]

[ 2016-08-29T19:18:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:28' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:28' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:18:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:29' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:29' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:18:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:30' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:30' WHERE ( t0.id=b.id ) [ RunTime:0.031002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:18:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:31' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:31' WHERE ( t0.id=b.id ) [ RunTime:0.032002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015000s ]

[ 2016-08-29T19:18:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:32' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:32' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:18:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:33' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:33' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:18:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:34' )  [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.123007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:34' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:18:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:35' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.101006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:35' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:18:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:36' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.085005s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:36' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.022001s ]

[ 2016-08-29T19:18:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:37' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:37' WHERE ( t0.id=b.id ) [ RunTime:0.028001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:18:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:38' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:38' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:18:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:39' )  [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:39' WHERE ( t0.id=b.id ) [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:18:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:40' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:40' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:18:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:41' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:41' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:18:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:42' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:42' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:18:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:43' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:43' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:18:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:44' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:44' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.023001s ]

[ 2016-08-29T19:18:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:45' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:45' WHERE ( t0.id=b.id ) [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.014001s ]

[ 2016-08-29T19:18:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.042002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:46' )  [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.101005s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:46' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:18:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:47' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:47' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:18:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:48' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:48' WHERE ( t0.id=b.id ) [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:18:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:49' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:49' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:18:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:50' )  [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:50' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:18:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:51' )  [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:51' WHERE ( t0.id=b.id ) [ RunTime:0.038002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:18:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:52' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:52' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:18:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:53' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.123007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:53' WHERE ( t0.id=b.id ) [ RunTime:0.029002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.020001s ]

[ 2016-08-29T19:18:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:54' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:54' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:18:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:55' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:55' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.021001s ]

[ 2016-08-29T19:18:56+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.004000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:56' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.100005s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:56' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:18:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:57' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:57' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:18:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:58' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:58' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:18:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:17:59' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:18:59' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:19:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:00' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:00' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016000s ]

[ 2016-08-29T19:19:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.028001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:01' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:01' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:19:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:02' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:02' WHERE ( t0.id=b.id ) [ RunTime:0.030001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019002s ]

[ 2016-08-29T19:19:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:03' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:03' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:19:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.027001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:04' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:04' WHERE ( t0.id=b.id ) [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.020001s ]

[ 2016-08-29T19:19:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:05' )  [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:05' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:19:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:06' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.100005s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:06' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:19:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:07' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:07' WHERE ( t0.id=b.id ) [ RunTime:0.033002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:19:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:08' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:08' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016000s ]

[ 2016-08-29T19:19:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:09' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.122007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:09' WHERE ( t0.id=b.id ) [ RunTime:0.031001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.020001s ]

[ 2016-08-29T19:19:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:10' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.124007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:10' WHERE ( t0.id=b.id ) [ RunTime:0.030001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:19:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:11' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:11' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:19:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:12' )  [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:12' WHERE ( t0.id=b.id ) [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.014000s ]

[ 2016-08-29T19:19:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:13' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:13' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:19:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.030002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:14' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.122007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:14' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:19:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:15' )  [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.122007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:15' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:19:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:16' )  [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.094006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:16' WHERE ( t0.id=b.id ) [ RunTime:0.028002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:19:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:17' )  [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:17' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:19:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:18' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:18' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:19:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:19' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:19' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:19:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:20' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.029002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:20' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015000s ]

[ 2016-08-29T19:19:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:21' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:21' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:19:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:22' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:22' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.123007s ]

[ 2016-08-29T19:19:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:23' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:23' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:19:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:24' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:24' WHERE ( t0.id=b.id ) [ RunTime:0.029001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:19:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:25' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:25' WHERE ( t0.id=b.id ) [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:19:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:26' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.101006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:26' WHERE ( t0.id=b.id ) [ RunTime:0.039002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:19:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:27' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:27' WHERE ( t0.id=b.id ) [ RunTime:0.034002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016000s ]

[ 2016-08-29T19:19:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:28' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:28' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:19:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:29' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:29' WHERE ( t0.id=b.id ) [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:19:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:30' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:30' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.014001s ]

[ 2016-08-29T19:19:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:31' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:31' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:19:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:32' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:32' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:19:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:33' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:33' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:19:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:34' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:34' WHERE ( t0.id=b.id ) [ RunTime:0.030002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:19:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:35' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:35' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019002s ]

[ 2016-08-29T19:19:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:36' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.099006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:36' WHERE ( t0.id=b.id ) [ RunTime:0.031002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:19:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:37' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:37' WHERE ( t0.id=b.id ) [ RunTime:0.034002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:19:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:38' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:38' WHERE ( t0.id=b.id ) [ RunTime:0.031001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:19:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:39' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.123007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:39' WHERE ( t0.id=b.id ) [ RunTime:0.037002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:19:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:40' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:40' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.020001s ]

[ 2016-08-29T19:19:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:41' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:41' WHERE ( t0.id=b.id ) [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.020002s ]

[ 2016-08-29T19:19:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:42' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:42' WHERE ( t0.id=b.id ) [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.014001s ]

[ 2016-08-29T19:19:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:43' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:43' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:19:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:44' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:44' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:19:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:45' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:45' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.021001s ]

[ 2016-08-29T19:19:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.047003s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:46' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.098005s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:46' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.022002s ]

[ 2016-08-29T19:19:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.028002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:47' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:47' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:19:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:48' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:48' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:19:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.027002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:49' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.151009s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:49' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:19:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.029002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:50' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:50' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:19:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:51' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:51' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:19:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:52' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:52' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.014001s ]

[ 2016-08-29T19:19:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:53' )  [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:53' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:19:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:54' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:54' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:19:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:55' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.050003s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:55' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:19:56+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.029001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:56' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.098005s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:56' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.022002s ]

[ 2016-08-29T19:19:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:57' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.122007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:57' WHERE ( t0.id=b.id ) [ RunTime:0.030002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:19:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:58' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:58' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:19:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:18:59' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:19:59' WHERE ( t0.id=b.id ) [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:20:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:00' )  [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:00' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015000s ]

[ 2016-08-29T19:20:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:01' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:01' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:20:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:02' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:02' WHERE ( t0.id=b.id ) [ RunTime:0.029001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016000s ]

[ 2016-08-29T19:20:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:03' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:03' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:20:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:04' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.122007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:04' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019002s ]

[ 2016-08-29T19:20:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:05' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:05' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:20:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:06' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.095006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:06' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:20:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:07' )  [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:07' WHERE ( t0.id=b.id ) [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:20:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:08' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.126008s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:08' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:20:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:09' )  [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:09' WHERE ( t0.id=b.id ) [ RunTime:0.028001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:20:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:10' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.128007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:10' WHERE ( t0.id=b.id ) [ RunTime:0.031002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:20:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:11' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:11' WHERE ( t0.id=b.id ) [ RunTime:0.028001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:20:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:12' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:12' WHERE ( t0.id=b.id ) [ RunTime:0.040002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:20:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:13' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:13' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:20:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:14' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:14' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.020001s ]

[ 2016-08-29T19:20:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:15' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:15' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:20:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:16' )  [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.099006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:16' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.020001s ]

[ 2016-08-29T19:20:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003001s ]
INFO: [ route_check ] --END-- [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:17' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:17' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:20:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:18' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.115006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:18' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.014001s ]

[ 2016-08-29T19:20:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:19' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.124007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:19' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015000s ]

[ 2016-08-29T19:20:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:20' )  [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:20' WHERE ( t0.id=b.id ) [ RunTime:0.033002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:20:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:21' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:21' WHERE ( t0.id=b.id ) [ RunTime:0.028002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:20:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:22' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:22' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:20:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:23' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:23' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:20:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:24' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:24' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.022002s ]

[ 2016-08-29T19:20:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:25' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:25' WHERE ( t0.id=b.id ) [ RunTime:0.028002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.022001s ]

[ 2016-08-29T19:20:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:26' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.098006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:26' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:20:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:27' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:27' WHERE ( t0.id=b.id ) [ RunTime:0.271016s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:20:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.031001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:28' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.123007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:28' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:20:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:29' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:29' WHERE ( t0.id=b.id ) [ RunTime:0.028002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.021001s ]

[ 2016-08-29T19:20:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:30' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:30' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:20:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:31' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:31' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.028001s ]

[ 2016-08-29T19:20:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:32' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:32' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.022001s ]

[ 2016-08-29T19:20:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:33' )  [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.122007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:33' WHERE ( t0.id=b.id ) [ RunTime:0.028002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.022001s ]

[ 2016-08-29T19:20:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:34' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:34' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.020001s ]

[ 2016-08-29T19:20:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:35' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:35' WHERE ( t0.id=b.id ) [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:20:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:36' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.099006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:36' WHERE ( t0.id=b.id ) [ RunTime:0.030001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017000s ]

[ 2016-08-29T19:20:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:37' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:37' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:20:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:38' )  [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.122007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:38' WHERE ( t0.id=b.id ) [ RunTime:0.030002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.020001s ]

[ 2016-08-29T19:20:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:39' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:39' WHERE ( t0.id=b.id ) [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:20:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:40' )  [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:40' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:20:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:41' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:41' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:20:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:42' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:42' WHERE ( t0.id=b.id ) [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:20:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:43' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:43' WHERE ( t0.id=b.id ) [ RunTime:0.028001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:20:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:44' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:44' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:20:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:45' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:45' WHERE ( t0.id=b.id ) [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.022001s ]

[ 2016-08-29T19:20:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.055003s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:46' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.098006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:46' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:20:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:47' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.133008s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:47' WHERE ( t0.id=b.id ) [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:20:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:48' )  [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:48' WHERE ( t0.id=b.id ) [ RunTime:0.049003s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:20:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:49' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:49' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:20:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:50' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:50' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:20:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:51' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:51' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:20:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:52' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:52' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:20:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:53' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:53' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:20:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:54' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:54' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:20:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:55' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:55' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:20:56+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:56' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.100006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:56' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:20:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:57' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:57' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:20:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:58' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:58' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:20:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:19:59' )  [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:20:59' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:21:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:00' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.123007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:00' WHERE ( t0.id=b.id ) [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:21:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:01' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:01' WHERE ( t0.id=b.id ) [ RunTime:0.030001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:21:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.005000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.005000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:02' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:02' WHERE ( t0.id=b.id ) [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:21:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:03' )  [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:03' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017000s ]

[ 2016-08-29T19:21:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:04' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:04' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:21:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.029002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:05' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:05' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:21:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:06' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.099005s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:06' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:21:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.029002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:07' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:07' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:21:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:08' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:08' WHERE ( t0.id=b.id ) [ RunTime:0.048002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:21:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:09' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.115007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:09' WHERE ( t0.id=b.id ) [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:21:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:10' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:10' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:21:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:11' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:11' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:21:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.031001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:12' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.125007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:12' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.021001s ]

[ 2016-08-29T19:21:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.028002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:13' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:13' WHERE ( t0.id=b.id ) [ RunTime:0.028001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:21:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:14' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:14' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:21:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:15' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:15' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:21:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.030002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:16' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.100006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:16' WHERE ( t0.id=b.id ) [ RunTime:0.030001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016000s ]

[ 2016-08-29T19:21:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:17' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.068004s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:17' WHERE ( t0.id=b.id ) [ RunTime:0.039002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:21:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:18' )  [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:18' WHERE ( t0.id=b.id ) [ RunTime:0.030002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.020001s ]

[ 2016-08-29T19:21:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:19' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.114007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:19' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:21:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:20' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:20' WHERE ( t0.id=b.id ) [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.022001s ]

[ 2016-08-29T19:21:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:21' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:21' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:21:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:22' )  [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:22' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:21:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:23' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:23' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:21:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:24' )  [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.125007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:24' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.014001s ]

[ 2016-08-29T19:21:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:25' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:25' WHERE ( t0.id=b.id ) [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:21:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:26' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.099005s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:26' WHERE ( t0.id=b.id ) [ RunTime:0.028001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015000s ]

[ 2016-08-29T19:21:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:27' )  [ RunTime:0.018002s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.072004s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:27' WHERE ( t0.id=b.id ) [ RunTime:0.034002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:21:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:28' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.115006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:28' WHERE ( t0.id=b.id ) [ RunTime:0.031001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.045002s ]

[ 2016-08-29T19:21:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:29' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:29' WHERE ( t0.id=b.id ) [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:21:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:30' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:30' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:21:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.027002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:31' )  [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.124007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:31' WHERE ( t0.id=b.id ) [ RunTime:0.031002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.022001s ]

[ 2016-08-29T19:21:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:32' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:32' WHERE ( t0.id=b.id ) [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:21:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:33' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:33' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:21:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:34' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:34' WHERE ( t0.id=b.id ) [ RunTime:0.033001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:21:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:35' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:35' WHERE ( t0.id=b.id ) [ RunTime:0.034002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016000s ]

[ 2016-08-29T19:21:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:36' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.106006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:36' WHERE ( t0.id=b.id ) [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:21:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:37' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:37' WHERE ( t0.id=b.id ) [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:21:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.036002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:38' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:38' WHERE ( t0.id=b.id ) [ RunTime:0.041002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:21:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:39' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.123007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:39' WHERE ( t0.id=b.id ) [ RunTime:0.029002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:21:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:40' )  [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.122007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:40' WHERE ( t0.id=b.id ) [ RunTime:0.028002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:21:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:41' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:41' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.024001s ]

[ 2016-08-29T19:21:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:42' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:42' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:21:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:43' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.129007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:43' WHERE ( t0.id=b.id ) [ RunTime:0.028002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:21:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:44' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:44' WHERE ( t0.id=b.id ) [ RunTime:0.031002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:21:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018002s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:45' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:45' WHERE ( t0.id=b.id ) [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:21:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.039002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:46' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.098006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:46' WHERE ( t0.id=b.id ) [ RunTime:0.031001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:21:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:47' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.071004s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:47' WHERE ( t0.id=b.id ) [ RunTime:0.040002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:21:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:48' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:48' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.043003s ]

[ 2016-08-29T19:21:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:49' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:49' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:21:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.027001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:50' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:50' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.025001s ]

[ 2016-08-29T19:21:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.031002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:51' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:51' WHERE ( t0.id=b.id ) [ RunTime:0.031002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.021001s ]

[ 2016-08-29T19:21:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:52' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:52' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:21:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:53' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:53' WHERE ( t0.id=b.id ) [ RunTime:0.031002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:21:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.030002s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:54' )  [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.125007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:54' WHERE ( t0.id=b.id ) [ RunTime:0.031001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.021002s ]

[ 2016-08-29T19:21:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.028001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.039002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:55' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:55' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:21:56+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:56' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.100005s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:56' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:21:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:57' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.082005s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:57' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:21:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:58' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:58' WHERE ( t0.id=b.id ) [ RunTime:0.041003s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:21:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:20:59' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:21:59' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:22:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:00' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:00' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.028001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:01' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:01' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:22:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003001s ]
INFO: [ route_check ] --END-- [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.028002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:02' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:02' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:22:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:03' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:03' WHERE ( t0.id=b.id ) [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:22:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:04' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:04' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:22:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:05' )  [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:05' WHERE ( t0.id=b.id ) [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015000s ]

[ 2016-08-29T19:22:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:06' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.101006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:06' WHERE ( t0.id=b.id ) [ RunTime:0.030002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:22:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:07' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:07' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:22:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:08' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:08' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:22:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:09' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:09' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:22:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:10' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.122007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:10' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.020001s ]

[ 2016-08-29T19:22:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:11' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:11' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:12' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:12' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:22:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:13' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:13' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:22:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:14' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:14' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:15' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:15' WHERE ( t0.id=b.id ) [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:16' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.099006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:16' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015000s ]

[ 2016-08-29T19:22:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:17' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:17' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:18' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:18' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:22:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:19' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:19' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:20' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:20' WHERE ( t0.id=b.id ) [ RunTime:0.028002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:21' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:21' WHERE ( t0.id=b.id ) [ RunTime:0.028001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:22:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.032002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:22' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:22' WHERE ( t0.id=b.id ) [ RunTime:0.032002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.036002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:23' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:23' WHERE ( t0.id=b.id ) [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:22:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:24' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:24' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.004000s ]
INFO: [ route_check ] --END-- [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.003001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:25' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:25' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:22:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:26' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.102006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:26' WHERE ( t0.id=b.id ) [ RunTime:0.043003s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:22:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.244014s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:27' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:27' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:28' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:28' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:22:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:29' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.122007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:29' WHERE ( t0.id=b.id ) [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.021002s ]

[ 2016-08-29T19:22:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:30' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:30' WHERE ( t0.id=b.id ) [ RunTime:0.031001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:31' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:31' WHERE ( t0.id=b.id ) [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:32' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:32' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.025001s ]

[ 2016-08-29T19:22:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018002s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:33' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:33' WHERE ( t0.id=b.id ) [ RunTime:0.032002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.024001s ]

[ 2016-08-29T19:22:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:34' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.135008s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:34' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:22:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:35' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.099006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:35' WHERE ( t0.id=b.id ) [ RunTime:0.028002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:22:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:36' )  [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:36' WHERE ( t0.id=b.id ) [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.014001s ]

[ 2016-08-29T19:22:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:37' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:37' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:38' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:38' WHERE ( t0.id=b.id ) [ RunTime:0.029002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:39' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:39' WHERE ( t0.id=b.id ) [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:22:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:40' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:40' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016000s ]

[ 2016-08-29T19:22:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:41' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.125007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:41' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.021002s ]

[ 2016-08-29T19:22:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:42' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:42' WHERE ( t0.id=b.id ) [ RunTime:0.029001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:22:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:43' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:43' WHERE ( t0.id=b.id ) [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:22:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:44' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:44' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:22:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:45' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.101006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:45' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:46' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.079004s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:46' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:22:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:47' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.115007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:47' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:22:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:48' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.115007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:48' WHERE ( t0.id=b.id ) [ RunTime:0.028002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.014001s ]

[ 2016-08-29T19:22:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:49' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:49' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:50' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:50' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:22:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:51' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:51' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:22:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:52' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:52' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:53' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:53' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:22:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:54' )  [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.125007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:54' WHERE ( t0.id=b.id ) [ RunTime:0.031002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.022002s ]

[ 2016-08-29T19:22:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:55' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.099006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:55' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:56+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:56' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.068004s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:56' WHERE ( t0.id=b.id ) [ RunTime:0.038002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:57' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:57' WHERE ( t0.id=b.id ) [ RunTime:0.030002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:22:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:58' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:58' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:22:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:21:59' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:22:59' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:23:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:00' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:00' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:23:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:01' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:01' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:23:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:02' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:02' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:23:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:03' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:03' WHERE ( t0.id=b.id ) [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:23:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:04' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:04' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:23:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:05' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.097006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:05' WHERE ( t0.id=b.id ) [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:23:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:06' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.069004s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:06' WHERE ( t0.id=b.id ) [ RunTime:0.038002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:23:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:07' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:07' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:23:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:08' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.115006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:08' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.021001s ]

[ 2016-08-29T19:23:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:09' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:09' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:23:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:10' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:10' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:23:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:11' )  [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:11' WHERE ( t0.id=b.id ) [ RunTime:0.032002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.020001s ]

[ 2016-08-29T19:23:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.030002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:12' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:12' WHERE ( t0.id=b.id ) [ RunTime:0.029002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:23:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:13' )  [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:13' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:23:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.028001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:14' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.126007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:14' WHERE ( t0.id=b.id ) [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:23:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.032002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:15' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.099006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:15' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:23:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:16' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:16' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:23:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:17' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:17' WHERE ( t0.id=b.id ) [ RunTime:0.029001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:23:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.028002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:18' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.121007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:18' WHERE ( t0.id=b.id ) [ RunTime:0.033002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:23:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.027001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:19' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:19' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:23:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:20' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:20' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:23:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:21' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:21' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:23:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:22' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:22' WHERE ( t0.id=b.id ) [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:23:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:23' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:23' WHERE ( t0.id=b.id ) [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:23:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:24' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:24' WHERE ( t0.id=b.id ) [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:23:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.004000s ]
INFO: [ route_check ] --END-- [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:25' )  [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.099006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:25' WHERE ( t0.id=b.id ) [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:23:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:26' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:26' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:23:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:27' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:27' WHERE ( t0.id=b.id ) [ RunTime:0.035002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:23:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:28' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:28' WHERE ( t0.id=b.id ) [ RunTime:0.033002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018002s ]

[ 2016-08-29T19:23:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.133007s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:29' )  [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.118007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:29' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:23:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:30' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.024002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:30' WHERE ( t0.id=b.id ) [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:23:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:31' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:31' WHERE ( t0.id=b.id ) [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:23:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:32' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.122007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:32' WHERE ( t0.id=b.id ) [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.021001s ]

[ 2016-08-29T19:23:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:33' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:33' WHERE ( t0.id=b.id ) [ RunTime:0.030002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.014001s ]

[ 2016-08-29T19:23:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:34' )  [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:34' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:23:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:35' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.099006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:35' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:23:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:36' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:36' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015000s ]

[ 2016-08-29T19:23:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:37' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:37' WHERE ( t0.id=b.id ) [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015001s ]

[ 2016-08-29T19:23:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:38' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:38' WHERE ( t0.id=b.id ) [ RunTime:0.031002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:23:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:39' )  [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.119007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:39' WHERE ( t0.id=b.id ) [ RunTime:0.028002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.017001s ]

[ 2016-08-29T19:23:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:40' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:40' WHERE ( t0.id=b.id ) [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

[ 2016-08-29T19:23:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:41' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:41' WHERE ( t0.id=b.id ) [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.019001s ]

[ 2016-08-29T19:23:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:42' )  [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.120007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:42' WHERE ( t0.id=b.id ) [ RunTime:0.028001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:23:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:43' )  [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:43' WHERE ( t0.id=b.id ) [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.015000s ]

[ 2016-08-29T19:23:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:44' )  [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.117007s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:44' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:23:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:45' )  [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.099006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:45' WHERE ( t0.id=b.id ) [ RunTime:0.028002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.018001s ]

[ 2016-08-29T19:23:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=198
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-29 19:22:46' )  [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.116006s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId E:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=0 order by id desc limit 1) b SET `endTm`='2016-08-29 19:23:46' WHERE ( t0.id=b.id ) [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>198 ) ORDER BY t0.id  [ RunTime:0.016001s ]

