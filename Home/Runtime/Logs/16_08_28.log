[ 2016-08-28T23:59:15+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:15' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:15' WHERE ( t0.id=b.id ) [ RunTime:0.104006s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:16+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:16' )  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:16' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.000000s ]

[ 2016-08-28T23:59:17+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:17' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:17' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001001s ]

[ 2016-08-28T23:59:18+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:18' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:18' WHERE ( t0.id=b.id ) [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:19+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:19' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:19' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.000000s ]

[ 2016-08-28T23:59:20+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:20' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:20' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.000000s ]

[ 2016-08-28T23:59:21+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:21' )  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.047003s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:21' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:22+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:22' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:22' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:23+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:23' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.004000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:23' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:24+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:24' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:24' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:25+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:25' )  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:25' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.000000s ]

[ 2016-08-28T23:59:26+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:26' )  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:26' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:27+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:27' )  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:27' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:28+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:28' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:28' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.002001s ]

[ 2016-08-28T23:59:29+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:29' )  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:29' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001001s ]

[ 2016-08-28T23:59:30+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:30' )  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:30' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:31+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:31' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:31' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.000000s ]

[ 2016-08-28T23:59:32+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:32' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:32' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:33+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:33' )  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:33' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.000000s ]

[ 2016-08-28T23:59:34+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:34' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:34' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:35+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:35' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:35' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:36+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:36' )  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:36' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:37+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:37' )  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.007000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:37' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:38+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.028002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.039002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:38' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:38' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.000000s ]

[ 2016-08-28T23:59:40+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:40' )  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:40' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.000000s ]

[ 2016-08-28T23:59:41+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:41' )  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:41' WHERE ( t0.id=b.id ) [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:42+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:42' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:42' WHERE ( t0.id=b.id ) [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:43+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:43' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:43' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.000000s ]

[ 2016-08-28T23:59:44+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:44' )  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:44' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.000000s ]

[ 2016-08-28T23:59:45+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:45' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:45' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:46+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:46' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:46' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:47+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:47' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:47' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.000000s ]

[ 2016-08-28T23:59:48+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:48' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:48' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:49+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:49' )  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:49' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:50+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:50' )  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:50' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.000000s ]

[ 2016-08-28T23:59:51+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:51' )  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:51' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:52+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:52' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:52' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:53+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:53' )  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:53' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.000000s ]

[ 2016-08-28T23:59:54+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:54' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:54' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:55+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:55' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:55' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:56+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:56' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:56' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:57+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:57' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:57' WHERE ( t0.id=b.id ) [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:58+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:58' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:58' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

[ 2016-08-28T23:59:59+08:00 ] 0.0.0.0 /tp_video/index.php/Index/index.html?refresh=ok&chatMaxId=165
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName FROM empuser t0 LEFT JOIN rank r on r.id=t0.rankId WHERE ( t0.id=4 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-08-28 23:58:59' )  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: logout E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 210 行.
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8] Undefined index: content E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 322 行.
NOTIC: [8] Undefined index: toUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 323 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,u.nickName as userName,e.nickName as toUserName FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 339 行.
NOTIC: [8] Undefined index: tmpUserId E:\wamp\www\tp_video\Home\Lib\Action\IndexAction.class.php 第 343 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=4 and type=2 order by id desc limit 1) b SET `endTm`='2016-08-28 23:59:59' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead E:\wamp\www\tp_video\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT u.nickname as userName,e.nickname as toUserName,t0.* FROM chat t0 LEFT JOIN User u on u.id=t0.userId LEFT JOIN User e on e.id=t0.toUserId WHERE ( t0.id>165 ) ORDER BY t0.tm  [ RunTime:0.001000s ]

