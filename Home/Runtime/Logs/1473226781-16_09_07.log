[ 2016-09-07T13:35:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:39' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:39' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:35:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:40' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:40' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:35:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:41' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:41' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:35:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:42' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:42' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:35:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:43' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:43' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:35:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:44' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:44' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:35:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:45' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:45' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:35:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:46' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:46' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:35:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:47' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:47' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:35:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:48' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:48' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:35:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:49' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:49' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:35:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:50' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:50' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:35:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:51' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:51' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:35:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:52' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:52' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:35:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:53' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:53' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:35:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:54' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:54' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:35:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:55' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:55' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:35:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.003000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:55' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `endTm` FROM `loginrecord` WHERE ( userId=1 and type=1 ) ORDER BY id desc LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `subject`  [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `announcement` LIMIT 1   [ RunTime:0.002000s ]
INFO: [ view_parse ] --START--
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 273 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 168 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 197 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 137 行.
INFO: ParseTemplate Behavior ::run [ RunTime:0.040003s ]
INFO: [ view_parse ] --END-- [ RunTime:0.041003s ]
INFO: [ view_filter ] --START--
INFO: ContentReplace Behavior ::run [ RunTime:0.002000s ]
INFO: TokenBuild Behavior ::run [ RunTime:0.001000s ]
INFO: WriteHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: ShowRuntime Behavior ::run [ RunTime:0.001000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.004000s ]
INFO: [ view_end ] --START--
INFO: ShowPageTrace Behavior ::run [ RunTime:0.002000s ]
INFO: [ view_end ] --END-- [ RunTime:0.002000s ]

[ 2016-09-07T13:35:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:57' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:57' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:35:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:58' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:58' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:35:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:59' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:35:59' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:35:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?ownInfo=ok
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:34:59' )  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:00' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:00' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:01' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:01' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:02' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:02' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:36:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:03' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:03' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:36:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:04' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:04' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:36:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:05' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:05' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:06' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:06' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:36:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:07' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:07' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:08' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:08' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:36:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:08' )  [ RunTime:0.001000s ]
NOTIC: 建议使用I方法替代_post
NOTIC: 建议使用I方法替代_post
NOTIC: 建议使用I方法替代_post
NOTIC: 建议使用I方法替代_post
SQL: UPDATE `user` SET `nickName`='xiaol',`sex`=0,`qq`=12639368,`email`='12639368@qq.com' WHERE ( id=1 ) [ RunTime:0.000000s ]

[ 2016-09-07T13:36:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.036002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:10' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `endTm` FROM `loginrecord` WHERE ( userId=1 and type=1 ) ORDER BY id desc LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `subject`  [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `announcement` LIMIT 1   [ RunTime:0.001000s ]
INFO: [ view_parse ] --START--
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 273 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 168 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 197 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 137 行.
INFO: ParseTemplate Behavior ::run [ RunTime:0.036002s ]
INFO: [ view_parse ] --END-- [ RunTime:0.036002s ]
INFO: [ view_filter ] --START--
INFO: ContentReplace Behavior ::run [ RunTime:0.002000s ]
INFO: TokenBuild Behavior ::run [ RunTime:0.000000s ]
INFO: WriteHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: ShowRuntime Behavior ::run [ RunTime:0.001000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.006000s ]
INFO: [ view_end ] --START--
INFO: ShowPageTrace Behavior ::run [ RunTime:0.001000s ]
INFO: [ view_end ] --END-- [ RunTime:0.002001s ]

[ 2016-09-07T13:36:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.004000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.004000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:10' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:10' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:12' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:12' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:13' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:13' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:14' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:14' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:15' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:15' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:36:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:16' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:16' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:17' )  [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:17' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:18' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:18' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:36:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:19' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:19' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:20' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:20' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:21' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:21' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:22' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:22' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:36:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:23' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:23' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:24' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:24' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:25' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:25' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:26' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:26' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:36:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:27' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:27' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:36:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:28' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:28' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:36:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:29' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:29' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:30' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:30' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:31' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:31' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:36:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:32' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:32' WHERE ( t0.id=b.id ) [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:36:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:33' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:33' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:34' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:34' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:35' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:35' WHERE ( t0.id=b.id ) [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:36:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:36' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:36' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:36:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:37' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:37' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:38' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:38' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:36:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:39' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:39' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:40' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:40' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:36:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:41' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:41' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:36:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:42' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:42' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:43' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:43' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:44' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:44' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:45' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:45' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:36:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:46' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:46' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:36:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:47' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:47' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:36:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:48' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:48' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:36:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:49' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:49' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:50' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:50' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:51' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:51' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:52' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:52' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:53' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:53' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:54' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:54' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:36:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:55' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:55' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:56+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:56' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:56' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:57' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:57' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:58' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:58' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:36:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:35:59' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:36:59' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:00' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:00' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:01' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:01' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:02' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:02' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:03' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:03' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:04' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:04' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:05' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:05' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:06' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:06' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:07' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:07' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:08' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:08' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:09' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:09' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:10' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:10' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.031001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:11' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:11' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:12' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:12' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:13' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:13' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:37:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.033002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:14' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:14' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:15' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:15' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.029002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.032002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.025002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:16' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:16' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:17' )  [ RunTime:0.005000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:17' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.034002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.030001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.027002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.029002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:18' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:18' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.034002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:19' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:19' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:20' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:20' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:21' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:21' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:22' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:22' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:23' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:23' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:24' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:24' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:25' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:25' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:26' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:26' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:27' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:27' WHERE ( t0.id=b.id ) [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:27+08:00 ] 127.0.0.1 /yinzhiyi/
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:27' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `endTm` FROM `loginrecord` WHERE ( userId=2 and type=0 ) ORDER BY id desc LIMIT 1   [ RunTime:0.000000s ]
SQL: INSERT INTO `loginrecord` (`type`,`userId`,`tm`,`endTm`) VALUES (0,2,'2016-09-07 13:37:27','2016-09-07 13:37:27') [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `subject`  [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `announcement` LIMIT 1   [ RunTime:0.000000s ]
INFO: [ view_parse ] --START--
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 273 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 168 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 399 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 404 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 197 行.
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Template\ThinkTemplate.class.php 第 137 行.
INFO: ParseTemplate Behavior ::run [ RunTime:0.033002s ]
INFO: [ view_parse ] --END-- [ RunTime:0.033002s ]
INFO: [ view_filter ] --START--
INFO: ContentReplace Behavior ::run [ RunTime:0.001000s ]
INFO: TokenBuild Behavior ::run [ RunTime:0.001000s ]
INFO: WriteHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: ShowRuntime Behavior ::run [ RunTime:0.000000s ]
INFO: [ view_filter ] --END-- [ RunTime:0.004000s ]
INFO: [ view_end ] --START--
INFO: ShowPageTrace Behavior ::run [ RunTime:0.003000s ]
INFO: [ view_end ] --END-- [ RunTime:0.004000s ]

[ 2016-09-07T13:37:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.027001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:28' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:28' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:37:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:29' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:29' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:29+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:29' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:29' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:37:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.031002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:30' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:30' WHERE ( t0.id=b.id ) [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:30+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:30' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:30' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:31' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:31' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.003000s ]

[ 2016-09-07T13:37:31+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:31' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:31' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:32' )  [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:32' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:37:32+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:32' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:32' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:33' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:33' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:33+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:33' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:33' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:34' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:34' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:34+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:34' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:34' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:35' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:35' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:37:35+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:35' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:35' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:37:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:36' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:36' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:37:36+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:36' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:36' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:37' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:37' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:37+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:37' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:37' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:38' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:38' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:37:38+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:38' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:38' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:39' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:39' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:39+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:39' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:39' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:40' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:40' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:40+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:40' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:40' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:40+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:40' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: INSERT INTO `chat` (`userId`,`tm`,`content`,`toUserId`,`toUserType`,`userType`) VALUES (2,'2016-09-07 13:37:40','dd',0,3,0) [ RunTime:0.003000s ]

[ 2016-09-07T13:37:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:41' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:41' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:41+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=253
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:41' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:41' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>253 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:37:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:42' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:42' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:42+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:42' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:42' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:43' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:43' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:43+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:43' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:43' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:44' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:44' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:44+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:44' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:44' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:45' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:45' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:45+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:45' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:45' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:37:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:46' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:46' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.002001s ]

[ 2016-09-07T13:37:46+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:46' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:46' WHERE ( t0.id=b.id ) [ RunTime:0.006000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.003001s ]

[ 2016-09-07T13:37:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:47' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:47' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:47+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:47' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:47' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:37:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:48' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:48' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:37:48+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:48' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:48' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:49' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:49' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:49+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:49' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:49' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:50' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:50' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:50+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:50' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.029001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:50' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:51' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:51' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:51+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:51' )  [ RunTime:0.004001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:51' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:52' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:52' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:52+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:52' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:52' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.003000s ]

[ 2016-09-07T13:37:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:53' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:53' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:37:53+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:53' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:53' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:54' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:54' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:54+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:54' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:54' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:55' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:55' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:55+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:55' )  [ RunTime:0.005000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:55' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:56+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:56' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:56' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:56+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:56' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:56' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:57' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:57' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:57+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:57' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:57' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:58' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:58' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:58+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:58' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.006001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:58' WHERE ( t0.id=b.id ) [ RunTime:0.027001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:37:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.061004s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.052003s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.061004s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.047002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:59' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.043002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:59' WHERE ( t0.id=b.id ) [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:37:59+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.027002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:36:59' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:37:59' WHERE ( t0.id=b.id ) [ RunTime:0.006000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:00' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:00' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:38:00+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.028002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:00' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:00' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:01' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:01' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:01+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.031001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:01' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:01' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.026002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.034002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.030002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:02' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:02' WHERE ( t0.id=b.id ) [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:02+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:02' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:02' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.002001s ]

[ 2016-09-07T13:38:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:03' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:03' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:03+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:03' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:03' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.002001s ]

[ 2016-09-07T13:38:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.039002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:04' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:04' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:04+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:04' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:04' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:05' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:05' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:05+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:05' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:05' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:06' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:06' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:06+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:06' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:06' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.019002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:07' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:07' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:07+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:07' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:07' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:08' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:08' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:08+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:08' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:08' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.003000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:09' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:09' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:09+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.064004s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.033002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:09' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:09' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:10' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:10' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:10+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:10' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.005000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:10' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.002001s ]

[ 2016-09-07T13:38:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:11' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:11' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:11+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:11' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:11' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:12' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:12' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:38:12+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:12' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:12' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:13' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:13' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:13+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:13' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:13' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:14' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:14' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:38:14+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:14' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:14' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:15' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:15' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:15+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:15' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:15' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:16' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:16' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:16+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:16' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:16' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.028001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.037002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:17' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003001s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:17' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:17+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:17' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:17' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:18' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:18' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:18+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:18' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:18' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:19' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:19' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:19+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:19' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:19' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:20' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:20' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:20+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:20' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:20' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.023001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.024001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:21' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:21' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:21+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.019001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.027002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:21' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:21' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:22' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:22' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:22+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:22' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:22' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:23' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:23' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:23+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:23' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:23' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:24' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:24' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:24+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:24' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:24' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:25' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:25' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:38:25+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:25' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:25' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:26' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:26' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:26+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:26' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:26' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:27' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:27' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:27+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:27' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:27' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:28' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:28' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:28+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:28' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:28' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:29' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:29' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:29+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:29' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:29' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:30' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:30' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:30+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:30' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:30' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:31' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:31' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:31+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:31' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:31' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:32' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:32' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:32+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:32' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:32' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:38:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:33' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:33' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:33+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:33' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:33' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:34' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:34' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:34+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:34' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:34' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.030002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:35' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:35' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:35+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:35' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:35' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:36' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:36' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:36+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:36' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:36' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:37' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:37' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:37+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:37' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:37' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:38' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:38' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:38+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:38' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:38' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:39' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:39' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:39+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:39' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:39' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:40' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:40' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:40+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:40' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:40' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:41+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:41' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:41' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:41+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.027002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:41' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:41' WHERE ( t0.id=b.id ) [ RunTime:0.006001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:42+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:42' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:42' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:42+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.033002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.028002s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:42' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:42' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:43+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.027002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:43' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:43' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:43+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:43' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:43' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:44+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.036002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.006000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:44' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:44' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:44+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:44' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:44' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:45+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.022001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.023001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:45' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:45' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:45+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.020001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:45' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:45' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:46+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:46' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:46' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:46+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:46' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:46' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:47+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:47' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:47' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:47+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:47' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:47' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:48+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:48' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:48' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:48+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:48' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:48' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:49+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:49' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:49' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:49+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:49' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:49' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:50+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:50' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:50' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:50+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:50' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:50' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.002001s ]

[ 2016-09-07T13:38:51+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:51' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:51' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:51+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:51' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:51' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:52+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:52' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:52' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:52+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:52' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:52' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:38:53+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:53' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:53' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:53+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.023002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.024002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:53' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:53' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:54+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:54' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:54' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:54+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:54' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:54' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:55+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:55' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:55' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:55+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.025002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:55' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.042003s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:55' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.003000s ]

[ 2016-09-07T13:38:56+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.025001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:56' )  [ RunTime:0.004001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:56' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:56+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:56' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:56' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:57+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:57' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:57' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:57+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:57' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.003000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:57' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:58+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:58' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:58' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:38:58+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:58' )  [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.015000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:58' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:59+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:59' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:59' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:38:59+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:37:59' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:38:59' WHERE ( t0.id=b.id ) [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:00+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:00' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:00' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:00+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:00' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:00' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:01+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:01' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:01' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:01+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:01' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:01' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:02+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:02' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:02' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:02+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:02' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:02' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:03+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:03' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:03' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:03+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:03' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:03' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:04+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:04' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:04' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:04+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:04' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:04' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:05+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:05' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:05' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:05+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:05' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:05' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:06+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:06' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:06' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:06+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:06' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:06' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:07+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:07' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:07' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:07+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:07' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:07' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:08+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:08' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:08' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:08+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:08' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:08' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:09+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:09' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:09' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:09+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:09' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:09' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:10+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:10' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:10' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:10+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:10' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:10' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:11+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.018001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.034002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:11' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.020002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:11' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:11+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:11' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:11' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:39:12+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:12' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:12' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:12+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:12' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:12' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:39:13+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:13' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:13' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:13+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:13' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:13' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:39:14+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:14' )  [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.014000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:14' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:14+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:14' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:14' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:15+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:15' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:15' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:15+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:15' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:15' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:16+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:16' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:16' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:16+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.025001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:16' )  [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:16' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:17+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.026001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.026002s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.028001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.029002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:17' )  [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.021001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:17' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:17+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.026001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.021002s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.030001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.022002s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.030001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.020001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:17' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.028001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:17' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.003000s ]

[ 2016-09-07T13:39:18+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:18' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:18' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:18+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:18' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:18' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:19+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:19' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:19' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:19+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.018001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.024001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.033002s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.022002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:19' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.022001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.004001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:19' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:20+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:20' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:20' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:20+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:20' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:20' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:21+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:21' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:21' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:21+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:21' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:21' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:22+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:22' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:22' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:22+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:22' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:22' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:23+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:23' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:23' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:23+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:23' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:23' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:24+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.015001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:24' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:24' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:24+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:24' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:24' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001001s ]

[ 2016-09-07T13:39:25+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:25' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:25' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:25+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:25' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:25' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:26+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:26' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:26' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:26+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.009001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:26' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:26' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:27+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:27' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:27' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:27+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:27' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:27' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:28+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.005000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:28' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:28' WHERE ( t0.id=b.id ) [ RunTime:0.006000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:28+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.021001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:28' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:28' WHERE ( t0.id=b.id ) [ RunTime:0.005000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:29+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:29' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:29' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:29+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:29' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:29' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:30+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:30' )  [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:30' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:30+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.017001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:30' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:30' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:31+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:31' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:31' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:31+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:31' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:31' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:32+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:32' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:32' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:32+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.019001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:32' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:32' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:33+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.002000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:33' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:33' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:33+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001001s ]
INFO: [ app_begin ] --END-- [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.014001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.016001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:33' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.023002s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:33' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:34+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:34' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.002000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:34' WHERE ( t0.id=b.id ) [ RunTime:0.004001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:34+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001001s ]
INFO: [ route_check ] --END-- [ RunTime:0.002001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.002001s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.015000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:34' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:34' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:35+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.000000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:35' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.000000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:35' WHERE ( t0.id=b.id ) [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:35+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:35' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:35' WHERE ( t0.id=b.id ) [ RunTime:0.004000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:36+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:36' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:36' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:36+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:36' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:36' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:37+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:37' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.009000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:37' WHERE ( t0.id=b.id ) [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:37+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.017001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:37' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:37' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:38+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:38' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:38' WHERE ( t0.id=b.id ) [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:38+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.002000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.009000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:38' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:38' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:39+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.010000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:39' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:39' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.001000s ]

[ 2016-09-07T13:39:39+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.001000s ]
INFO: [ route_check ] --END-- [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.011001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.010001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011000s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.001000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:39' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:39' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.002000s ]

[ 2016-09-07T13:39:40+08:00 ] 0.0.0.0 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.003001s ]
INFO: [ route_check ] --END-- [ RunTime:0.003001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.000000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.014001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' and state=1 ) LIMIT 1   [ RunTime:0.002000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.013001s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.012001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.012000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.001001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='::1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,r.name as rankName,r.aFilePath as pic,eu.nickName as empNickName FROM user t0 LEFT JOIN rank r on r.id=t0.rankId LEFT JOIN empuser eu on eu.id=t0.empUserId WHERE ( t0.id=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:40' )  [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.010000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001000s ]
NOTIC: [8] Undefined index: tmpUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 329 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=1 and type=1 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:40' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

[ 2016-09-07T13:39:40+08:00 ] 127.0.0.1 /yinzhiyi/index.php/Index/index.html?refresh=ok&chatMaxId=254
INFO: [ route_check ] --START--
INFO: CheckRoute Behavior ::run [ RunTime:0.002000s ]
INFO: [ route_check ] --END-- [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Dispatcher.class.php 第 132 行.
INFO: [ app_begin ] --START--
INFO: ReadHtmlCache Behavior ::run [ RunTime:0.001000s ]
INFO: [ app_begin ] --END-- [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `tmpuser` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' and state=1 ) LIMIT 1   [ RunTime:0.000000s ]
SQL: SHOW COLUMNS FROM `subject` [ RunTime:0.016001s ]
SQL: SHOW COLUMNS FROM `announcement` [ RunTime:0.015001s ]
SQL: SHOW COLUMNS FROM `empuser` [ RunTime:0.014000s ]
SQL: SHOW COLUMNS FROM `user` [ RunTime:0.012000s ]
SQL: SHOW COLUMNS FROM `baseinfo` [ RunTime:0.011001s ]
SQL: SHOW COLUMNS FROM `loginrecord` [ RunTime:0.013001s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `baseinfo` WHERE ( state=1 ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT * FROM `tmpuser` WHERE ( ip='127.0.0.1' ) LIMIT 1   [ RunTime:0.000000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT `type`,(case type when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName FROM loginrecord t0 WHERE ( t0.endTm>'2016-09-07 13:38:40' )  [ RunTime:0.001000s ]
SQL: SHOW COLUMNS FROM `chat` [ RunTime:0.011000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '__PUBLIC__/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 ORDER BY t0.id  [ RunTime:0.001001s ]
NOTIC: [8] Undefined index: userId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 325 行.
NOTIC: [8] Undefined index: empUserId D:\wamp\www\yinzhiyi\Home\Lib\Action\IndexAction.class.php 第 333 行.
SQL: UPDATE loginrecord t0,(select id from loginrecord where userId=2 and type=0 order by id desc limit 1) b SET `endTm`='2016-09-07 13:39:40' WHERE ( t0.id=b.id ) [ RunTime:0.003000s ]
NOTIC: [8192] preg_replace(): The /e modifier is deprecated, use preg_replace_callback instead D:\wamp\www\yinzhiyi\ThinkPHP\Lib\Core\Db.class.php 第 605 行.
SQL: SELECT t0.*,(case userType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.userId=e.id) else (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.userId=u.id) end) as userPic,(case toUserType when 0 then '/yinzhiyi/Home/Public/images/User14.png' when 2 then (select r.aFilePath from empuser e left join rank r on r.id=e.rankId where t0.toUserId=e.id) when 1 then (select r.aFilePath from user u left join rank r on r.id=u.rankId where t0.toUserId=u.id) else '' end) as toUserPic,(case userType when 0 then (select t.uname from tmpuser t where t0.userId=t.id) when 2 then (select e.nickName from empuser e where t0.userId=e.id) else (select u.nickName from user u where t0.userId=u.id) end) as userName,(case toUserType when 0 then (select t.uname from tmpuser t where t0.toUserId=t.id) when 2 then (select e.nickName from empuser e where t0.toUserId=e.id) when 1 then (select u.nickName from user u where t0.toUserId=u.id) else '' end) as toUserName FROM chat t0 WHERE ( t0.id>254 ) ORDER BY t0.id  [ RunTime:0.000000s ]

